{"version":3,"sources":["components/Users/Users.module.sass","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","../node_modules/reselect/es/index.js","redux/selectors/selectors_user.js","components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","totalUsersCount","pageSize","onPageChanged","now","isFetching","pagesCount","Math","ceil","pages","i","push","handleBlur","e","pagesLength","value","target","isNaN","setPaginationBtnClasses","p","firstButton","lastButton","classNames","styles","paginationBtn","activeBtn","className","paginationContainer","map","length","key","onClick","Preloader","color","style","opacity","paginationInput","onKeyDown","keyCode","handleKeyDown","onBlur","placeholder","User","user","index","deleteFriend","addFriend","followingInProgress","setBtnClasses","followed","followBtn","followedBtn","userCard","leftContainer","imgDiv","backgroundImage","photos","small","optionDiv","disabled","some","id","rightContainer","infoContainer","fullNameDiv","to","name","statusDiv","status","locationContainer","location","city","countryDiv","country","Users","this","props","currentPage","getUsers","users","React","Component","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getPageSize","state","usersPage","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersSuperSelector","filter","u","UsersContainer","pageNumber","mapDispatchToProps","compose","connect"],"mappings":"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","file":"static/js/7.4db7c6ea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userCard\":\"Users_userCard__31cwW\",\"leftContainer\":\"Users_leftContainer__1zumy\",\"rightContainer\":\"Users_rightContainer__2YN2W\",\"imgDiv\":\"Users_imgDiv__3QRWQ\",\"fullNameDiv\":\"Users_fullNameDiv__3kUrw\",\"statusDiv\":\"Users_statusDiv__22l7L\",\"countryDiv\":\"Users_countryDiv__1E714\",\"followBtn\":\"Users_followBtn__oFnLU\",\"followedBtn\":\"Users_followedBtn__2PMlQ\",\"paginationContainer\":\"Users_paginationContainer__3AgCz\",\"paginationBtn\":\"Users_paginationBtn__2iX2W\",\"paginationInput\":\"Users_paginationInput__3fY7y\",\"activeBtn\":\"Users_activeBtn__12bvE\",\"firstButton\":\"Users_firstButton__1Zgtv\",\"lastButton\":\"Users_lastButton__1wDq6\"};","import React from 'react';\r\nimport styles from '../../Users/Users.module.sass'\r\nimport classNames from 'classnames' // https://github.com/JedWatson/classnames\r\nimport Preloader from '../Preloader/Preloader';\r\n\r\n\r\nconst Paginator = ({totalUsersCount,pageSize,onPageChanged,now,isFetching}) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let handleBlur = (e, pagesLength) => {\r\n        const value = +e.target.value\r\n        if (!isNaN(value) && value > 0 && value <= pagesLength) {\r\n            onPageChanged(value)\r\n        }\r\n        e.target.value = ''\r\n    }\r\n\r\n    let handleKeyDown = (e, pagesLength) => {\r\n        if (e.keyCode === 13) handleBlur(e, pagesLength)\r\n    }\r\n\r\n    const setPaginationBtnClasses = (p, firstButton, lastButton) => {\r\n        return classNames({\r\n            [styles.paginationBtn]: true,\r\n            [styles.activeBtn]: now === p,\r\n            [styles.firstButton]: firstButton,\r\n            [styles.lastButton]: lastButton\r\n        })\r\n    };\r\n\r\n\r\n\r\n    \r\n\r\n\r\n    return <div className={styles.paginationContainer}>\r\n        \r\n        {\r\n\r\n            pages.map(p => {\r\n                if ((p < now + 3 && p > now - 3) ||\r\n                    p === 1 || p === pages.length\r\n                ) {\r\n\r\n                    return <span key={p}\r\n                        className={setPaginationBtnClasses(p, now > p + 3, p === pages.length && (now < p - 3))}\r\n                        onClick={() => { onPageChanged(p) }}\r\n                    >{now === p && isFetching ? <span><Preloader color={'white'} /><span style={{ opacity: 0 }}>{p}</span></span> : p}\r\n                    </span>\r\n                } else return null\r\n\r\n            })}\r\n        <input className={styles.paginationInput} onKeyDown={e => handleKeyDown(e, pages.length)} onBlur={e => handleBlur(e, pages.length)} />\r\n        <span className={`${styles.paginationBtn} ${styles.activeBtn}`} placeholder='â„–'>&gt;</span>\r\n    </div>\r\n}\r\n\r\nexport default Paginator","import React from 'react';\r\nimport styles from './Users.module.sass'\r\nimport classNames from 'classnames' // https://github.com/JedWatson/classnames\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({ user, index, deleteFriend, addFriend, followingInProgress }) => {\r\n\r\n\r\n    const setBtnClasses = (followed) => {\r\n        return classNames({\r\n            [styles.followBtn]: true,\r\n            [styles.followedBtn]: followed\r\n        })\r\n    };\r\n\r\n    return (\r\n        <div className={styles.userCard}>\r\n            <div className={styles.leftContainer}>\r\n                <div className={styles.imgDiv} style={{ backgroundImage: `url(${user.photos.small})` }}>\r\n                </div>\r\n                <div className={styles.optionDiv}>\r\n                    {user.followed ?\r\n                        <button\r\n                            disabled={followingInProgress.some(id => id === index)}\r\n                            className={setBtnClasses(true)} onClick={() => {\r\n                                deleteFriend(index, user.id)\r\n                            }}>Unfollow</button>\r\n                        :\r\n                        <button\r\n                            disabled={followingInProgress.some(id => id === index)}\r\n                            className={setBtnClasses(false)} onClick={() => {\r\n                                addFriend(index, user.id)\r\n                            }}>Follow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className={styles.rightContainer}>\r\n                <div className={styles.infoContainer}>\r\n                    <div className={styles.fullNameDiv}>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                            {user.name}\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className={styles.statusDiv}>{user.status}\r\n                    </div>\r\n                </div>\r\n                <div className={styles.locationContainer}>\r\n                    <span>{user.location && user.location.city ? user.location.city : ''}\r\n                    </span>\r\n                    <span className={styles.countryDiv}>{user.location && user.location.country ? user.location.country : ''}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default User","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\nclass Users extends React.Component {\r\n\r\n    render() {\r\n        return <div>\r\n            <Paginator totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize} now={this.props.currentPage} onPageChanged={this.props.onPageChanged} isFetching={this.props.isFetching} />\r\n\r\n            <button onClick={() => { this.props.getUsers() }}>Get Users</button>\r\n            {\r\n                this.props.users.map((user, index) =>\r\n                    <User user={user}\r\n                        index={index}\r\n                        key={user.id}\r\n                        deleteFriend={this.props.deleteFriend}\r\n                        addFriend={this.props.addFriend}\r\n                        followingInProgress={this.props.followingInProgress} />\r\n                )\r\n            }\r\n\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Users","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { createSelector } from \"reselect\"\r\n\r\nconst getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n","import React from 'react';\r\nimport Users from './Users'\r\nimport { connect } from 'react-redux'\r\nimport { getUsers, addFriend, deleteFriend } from '../../redux/reducer_users'\r\nimport { compose } from 'redux';\r\n\r\nimport { getUsersSuperSelector, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/selectors/selectors_user'\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n  }\r\n\r\n  onPageChanged = (pageNumber, pageSize) => {\r\n    this.props.getUsers(pageNumber, pageSize)\r\n  }\r\n\r\n  render() {\r\n    return <Users\r\n      users={this.props.users}\r\n      addFriend={this.props.addFriend}\r\n      deleteFriend={this.props.deleteFriend}\r\n      totalUsersCount={this.props.totalUsersCount}\r\n      pageSize={this.props.pageSize}\r\n      currentPage={this.props.currentPage}\r\n      onPageChanged={this.onPageChanged}\r\n      isFetching={this.props.isFetching}\r\n      followingInProgress={this.props.followingInProgress}\r\n      \r\n    />\r\n  }\r\n}\r\n// let mapStateToProps = (state) => {\r\n//   return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     totalUsersCount: state.usersPage.totalUsersCount,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress,\r\n//   }\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n  return {\r\n    users: getUsersSuperSelector(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = {\r\n  getUsers,\r\n  addFriend,\r\n  deleteFriend\r\n}\r\n\r\n\r\nexport default compose(\r\n  // WithAuthRedirect,\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n)(UsersContainer);\r\n\r\n"],"sourceRoot":""}