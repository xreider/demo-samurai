(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(87),r=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a0f96476-2d24-4a30-b807-f3b5d089b035"}}),o=["https://media.istockphoto.com/vectors/cartoon-happy-monster-face-vector-halloween-green-cool-monster-avatar-vector-id833300086?k=6&m=833300086&s=170667a&w=0&h=QrZJzAUjI1wh7-bUGK1KqGHeA17IjDpxH7WdsznMlvw=","https://mygamehunter.ru/images/thumbnail/65933/550","https://media.istockphoto.com/vectors/angry-cartoon-monster-face-vector-halloween-green-cool-monster-avatar-vector-id1014862544?k=6&m=1014862544&s=170667a&w=0&h=F2i7SjG1SY5Hk3_pT6eEzb3PF2MTLMrs23rX3EzGYmw=","https://thumbs.dreamstime.com/b/cool-angry-cartoon-monster-vector-halloween-avatar-print-illustration-isolated-110119757.jpg","https://store.playstation.com/store/api/chihiro/00_09_000/container/GB/en/999/EP2402-CUSA05624_00-AV00000000000193/1576759987000/image?w=240&h=240&bg_color=000000&opacity=100&_version=00_09_000","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSikz6EP77U_dk2lzCRfoUUhbWReSWumTxN8A&usqp=CAU","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSFS2QulgeZAgJs3goKLS2gH2KFrz6u2wArfQ&usqp=CAU","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT4rzR378sjWB7GIehkVE3tRWdqmvj9tBKWlQ&usqp=CAU","https://i.pinimg.com/originals/07/3c/ab/073cab634e29593b83771fc3f6b73ece.jpg"],i={authMe:function(){return r.get("auth/me/")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("/auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("/auth/login")}},c={getUsersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){var t=0;return{arr:e.data.items.map((function(e){return t===o.length&&(t=0),e.photos.small||(e.photos.small=o[t++]),e})),totalCount:e.data.totalCount}}))},authMe:function(){return console.warn("Obsolete method. Please, use usersAPI object."),i.authMe()},getUser:function(e){return console.warn("Obsolete method. Please, use profileAPI object."),s.getProfile(e)},deleteFriend:function(e){return r.delete("follow/".concat(e))},addFriend:function(e){return r.post("follow/".concat(e))}},s={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})}}},140:function(e,t,n){e.exports=n(229)},145:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(46),i=n.n(o),c=n(24),s=n(25),u=n(30),l=n(29),d=(n(145),n(11)),f=n(47),p=n.n(f),m=n(85),g=n.n(m),h=function(e){return r.a.createElement("header",{className:p.a.header},r.a.createElement("img",{src:g.a,alt:"logo",className:p.a.logo}),r.a.createElement("span",{className:p.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login," ",r.a.createElement("button",{onClick:e.logout},"Logout")):r.a.createElement(d.b,{to:"/login"},"Login")))},b=n(23),v=n(32),E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(h,this.props)}}]),n}(r.a.Component),O=Object(b.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,email:e.auth.email,id:e.auth.id}}),{logout:v.d})(E),_=n(8),j=n.n(_),S=function(){return r.a.createElement("nav",{className:j.a.nav},r.a.createElement("div",{className:j.a.item},r.a.createElement(d.b,{to:"/profile",activeClassName:j.a.active},"Profile")),r.a.createElement("div",{className:j.a.item},r.a.createElement(d.b,{to:"/messages",activeClassName:j.a.active},"Messages")),r.a.createElement("div",{className:j.a.item},r.a.createElement(d.b,{to:"/news",activeClassName:j.a.active},"News")),r.a.createElement("div",{className:j.a.item},r.a.createElement(d.b,{to:"/music",activeClassName:j.a.active},"Music")),r.a.createElement("div",{className:j.a.item},r.a.createElement(d.b,{to:"/settings",activeClassName:j.a.active},"Settings")),r.a.createElement("div",{className:j.a.item},r.a.createElement(d.b,{to:"/users",activeClassName:j.a.active},"Find users")))},w=n(5),T=n(3),y={initialized:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=function(){return Object(T.a)(Object(T.a)({},e),{},{initialized:!0})};switch(t.type){case"SET_INITIALIZED":return n();default:return e}},P=n(17),I=n(39),N=n(76),C=n(62),k={},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return e},U=n(84),G=n(90),x=n(83),F=Object(P.c)({profilePage:C.b,dialogsPage:N.a,sidebar:L,usersPage:U.b,auth:v.a,form:x.a,app:A}),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.d,M=Object(P.e)(F,R(Object(P.a)(G.a))),z=n(38),D=Object(z.a)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,300))})),W=Object(z.a)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,302))})),H=Object(z.a)((function(){return n.e(7).then(n.bind(null,301))})),B=Object(z.a)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,299))})),q=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"appWrapper"},r.a.createElement(I.a,{color:"none"}),r.a.createElement(O,{name:"Hello"}),r.a.createElement(S,null),r.a.createElement("div",{className:"appWrapperContent"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(I.a,{color:"blue"})},r.a.createElement(w.b,{path:"/messages",render:function(){return r.a.createElement(W,null)}}),r.a.createElement(w.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(w.b,{path:"/users",render:function(){return r.a.createElement(H,null)}}),r.a.createElement(w.b,{path:"/login",render:function(){return r.a.createElement(B,null)}})))):r.a.createElement(I.a,{color:"blue"})}}]),n}(r.a.Component),K=Object(P.d)(Object(b.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){Promise.all([e(Object(v.b)())]).then((function(){e({type:"SET_INITIALIZED"})}))}}}),w.f)(q),J=function(e){return r.a.createElement(d.a,null,r.a.createElement(b.a,{store:M},r.a.createElement(K,null)))};n(228),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p}));var a=n(13),r=n.n(a),o=n(22),i=n(3),c=n(49),s=n(12),u={userId:null,email:null,login:null,isFetching:!1,isAuth:!1,isAuthingInProgress:!0},l=function(e,t,n,a){return{type:"SET_USER_DATA",payload:{id:e,email:t,login:n,isAuth:a}}},d=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.authMe();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,o=a.id,i=a.email,c=a.login,t(l(o,i,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n){return function(){var a=Object(o.a)(r.a.mark((function a(o){var i,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.login(e,t,n);case 2:0===(i=a.sent).data.resultCode?o(d()):(console.log(i.data),u=i.data.messages.length>0?i.data.messages[0]:"Some error",o(Object(c.a)("login",{_error:u})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},p=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.logout();case 2:0===e.sent.data.resultCode&&t(l(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=function(){return Object(i.a)(Object(i.a)(Object(i.a)({},e),t.payload),{},{isAuthingInProgress:!1})};switch(t.type){case"SET_USER_DATA":return n();default:return e}}},39:function(e,t,n){"use strict";var a=n(27),r=n(24),o=n(25),i=n(30),c=n(29),s=n(0),u=n.n(s),l=n(48),d=n.n(l),f=n(88),p=n.n(f),m=n(89),g=n.n(m),h=n(60),b=n.n(h),v=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e,t=b()((e={},Object(a.a)(e,d.a.preloader,"white"===this.props.color),Object(a.a)(e,d.a.preloaderBlue,"blue"===this.props.color),Object(a.a)(e,d.a.none,"none"===this.props.color),e)),n="blue"===this.props.color?g.a:p.a;return u.a.createElement("img",{className:t,src:n,alt:"preloader"})}}]),n}(u.a.Component);t.a=v},47:function(e,t,n){e.exports={header:"Header_header__1EYTx",logo:"Header_logo__3yMRc",loginBlock:"Header_loginBlock___beH3"}},48:function(e,t,n){e.exports={preloader:"Preloader_preloader__6cQVN",preloaderBlue:"Preloader_preloaderBlue__2K63N",none:"Preloader_none__3t4JE"}},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d}));var a=n(33),r=n(3),o=n(12),i={posts:[{id:2,message:"Hi !! !",likes:1},{id:3,message:"How are you? 123",likes:11},{id:4,message:"Good day",likes:21},{id:5,message:"Love mandarins",likes:33}].sort((function(e,t){return t.id-e.id})),newPostText:"123",profile:null,status:""},c=function(e){return{type:"ADD_POST",newPostText:e}},s=function(e){return{type:"SET_STATUS",status:e}},u=function(e){return function(t){o.b.getProfile(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},l=function(e){return function(t){o.b.getStatus(e).then((function(e){t(s(e.data))}))}},d=function(e){return function(t){o.b.updateStatus(e).then((function(n){0===n.data.resultCode&&t(s(e))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=function(){var n=e.posts.sort((function(e,t){return e.id-t.id})),o={id:n[n.length-1].id+1,message:t.newPostText,likes:0};return Object(r.a)(Object(r.a)({},e),{},{newPostText:"",posts:[o].concat(Object(a.a)(n.sort((function(e,t){return t.id-e.id}))))})},o=function(t){return Object(r.a)(Object(r.a)({},e),{},{profile:t})};switch(t.type){case"ADD_POST":return n();case"SET_USER_PROFILE":return o(t.profile);case"SET_STATUS":return Object(r.a)(Object(r.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(r.a)(Object(r.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});default:return e}}},76:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(33),r=n(3),o={dialogs:[{id:2,name:"Andrew"},{id:3,name:"Sveta"},{id:4,name:"Zhenya"},{id:5,name:"Georg"},{id:6,name:"Max"}],messages:[{id:2,message:"Hi"},{id:3,message:"How are you?"},{id:4,message:"I am fine! Are you?"},{id:5,message:"I am fine too! Thank you!"},{id:6,message:"Hi!"}]},i=function(e){return{type:"ADD_MESSAGE",newMessageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,n=function(){var n=t.newMessageText,o=e.messages.sort((function(e,t){return e.id-t.id})),i={id:o[o.length-1].id+1,message:n};return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[i])})};switch(t.type){case"ADD_MESSAGE":return n(t.newMessageText);default:return e}}},8:function(e,t,n){e.exports={nav:"Navbar_nav__14svW",item:"Navbar_item__1lyBJ",active:"Navbar_active__38i5Y"}},84:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return _}));var a=n(13),r=n.n(a),o=n(22),i=n(33),c=n(3),s=n(12),u=function(e,t,n,a){return Object(c.a)(Object(c.a)({},e),{},{users:e.users.map((function(e){return e[n]===t?Object(c.a)(Object(c.a)({},e),a):e}))})},l={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},d=function(e){return{type:"FOLLOW",userId:e}},f=function(e){return{type:"UNFOLLOW",userId:e}},p=function(e){return{type:"SET_USERS",users:e}},m=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},g=function(e){return{type:"SET_TOTAL_USERS_COUNT",totalCount:e}},h=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},b=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,buttonId:t}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.currentPage,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.pageSize;return function(){var n=Object(o.a)(r.a.mark((function n(a){var o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(h(!0)),a(m(e)),n.next=4,s.c.getUsersList(e,t);case 4:o=n.sent,a(p(o.arr)),a(g(o.totalCount)),a(h(!1));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,o,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(b(!0,n)),e.next=3,o(a);case 3:0===e.sent.data.resultCode&&(t(i(a)),t(b(!1,n)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),O=function(e,t){return function(n){return E(n,e,t,s.c.deleteFriend,f)}},_=function(e,t){return function(n){return E(n,e,t,s.c.addFriend,d)}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=function(){return u(e,t.userId,"id",{followed:!0})},a=function(){return u(e,t.userId,"id",{followed:!1})};switch(t.type){case"FOLLOW":return n();case"UNFOLLOW":return a();case"SET_USERS":return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.totalCount});case"TOGGLE_IS_FETCHING":return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.buttonId]):e.followingInProgress.filter((function(e){return e!==t.buttonId}))});default:return e}}},85:function(e,t,n){e.exports=n.p+"static/media/logo.73dd6543.png"},88:function(e,t,n){e.exports=n.p+"static/media/spinner.b4c52705.svg"},89:function(e,t,n){e.exports=n.p+"static/media/spinnerBlue.489bc18c.svg"}},[[140,2,3]]]);
//# sourceMappingURL=main.31356b73.chunk.js.map